import{b as i,j as e,L as u,f}from"./index-C3cbDq9_.js";import{u as g}from"./usePagination-CYYgX9TE.js";const w=()=>{const[r,o]=i.useState([]),[m,d]=i.useState(!0),[c,p]=i.useState(null);i.useEffect(()=>{let t=!0;return(async()=>{try{d(!0);const a=await f.get("/admin/users");if(!t)return;o(Array.isArray(a.data.users)?a.data.users:[])}catch(a){console.error("Failed to fetch users",a),t&&p("Failed to load users. Please check server status or admin privileges.")}finally{t&&d(!1)}})(),()=>t=!1},[]);const{paginatedData:l,currentPage:s,totalPages:x,next:h,prev:b}=g(r,10);return e.jsx("div",{className:"min-h-screen bg-zinc-50 py-12 px-4",children:e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsxs("header",{className:"mb-10 pb-4 border-b border-zinc-300",children:[e.jsx("h2",{className:"text-3xl font-extrabold tracking-tight text-zinc-900",children:"Registered Users"}),e.jsxs("p",{className:"text-md text-zinc-600 mt-1",children:["Total Users: **",r.length,"**"]})]}),m?e.jsx("div",{className:"p-6",children:e.jsx(u,{text:"Loading user list..."})}):c?e.jsx("div",{className:"p-4 bg-red-100 border border-red-400 text-red-700 rounded-lg",children:c}):r.length===0?e.jsx("div",{className:"text-zinc-600 p-6 bg-white border border-zinc-200 rounded-lg text-center",children:"No registered users found."}):e.jsxs("div",{className:"bg-white border border-zinc-200 rounded-xl shadow-2xl overflow-hidden",children:[e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-zinc-200",children:[e.jsx("thead",{className:"bg-zinc-900",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold text-white uppercase tracking-wider",children:"#"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold text-white uppercase tracking-wider",children:"Username"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold text-white uppercase tracking-wider",children:"Email"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold text-white uppercase tracking-wider",children:"Mobile"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold text-white uppercase tracking-wider",children:"Role"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold text-white uppercase tracking-wider",children:"Created Date"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-zinc-100",children:l.map((t,n)=>e.jsxs("tr",{className:"hover:bg-zinc-50 transition-colors",children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-zinc-700",children:(s-1)*10+n+1}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-zinc-900",children:t.username||e.jsx("span",{className:"text-zinc-400",children:"N/A"})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-zinc-700",children:t.email||e.jsx("span",{className:"text-zinc-400",children:"N/A"})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-zinc-700",children:t.mobile||e.jsx("span",{className:"text-zinc-400",children:"N/A"})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-semibold",children:e.jsx("span",{className:`inline-flex px-3 py-1 rounded-full text-xs font-semibold leading-5 ${t.admin?"bg-zinc-900 text-white":"bg-zinc-100 text-zinc-800"}`,children:t.admin?"Admin":"User"})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-zinc-500",children:t.createdAt?new Date(t.createdAt).toLocaleDateString("en-GB"):"-"})]},t._id||t.id||n))})]})}),e.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-t border-zinc-200 bg-zinc-50",children:[e.jsxs("div",{className:"text-sm text-zinc-700 font-medium",children:["Showing ",e.jsx("span",{className:"font-bold",children:l.length})," results on this page."]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("button",{onClick:b,disabled:s===1,className:"px-4 py-2 rounded-lg border border-zinc-300 bg-white text-zinc-900 hover:bg-zinc-100 disabled:opacity-50 disabled:cursor-not-allowed text-sm font-medium",children:"← Previous"}),e.jsxs("span",{className:"text-sm font-medium text-zinc-700",children:["Page ",e.jsx("span",{className:"font-bold",children:s})," of ",e.jsx("span",{className:"font-bold",children:x})]}),e.jsx("button",{onClick:h,disabled:s===x,className:"px-4 py-2 rounded-lg border border-zinc-300 bg-white text-zinc-900 hover:bg-zinc-100 disabled:opacity-50 disabled:cursor-not-allowed text-sm font-medium",children:"Next →"})]})]})]})]})})};export{w as default};
