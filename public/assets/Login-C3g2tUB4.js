import{b as d,u as N,a as S,c as k,d as L,j as e,L as z,y as m,l as E}from"./index-Cq2iuTYL.js";const I=()=>{const[i,h]=d.useState(""),[o,g]=d.useState(""),[r,p]=d.useState({}),x=N(),b=S(),f=k(),{status:w}=L(t=>t.user),u=new URLSearchParams(f.search).get("redirect")||"/",a=w==="loading",y=()=>{const t={};return i?/\S+@\S+\.\S+/.test(i)||(t.email="Invalid email format"):t.email="Email is required",o||(t.password="Password is required"),p(t),Object.keys(t).length===0},j=async t=>{var l,n;if(t.preventDefault(),!y()){const s=Object.values(r)[0];s&&m.error(s);return}try{const s=await b(E({email:i,password:o})).unwrap();m.success("Login successful");const c=((l=s.user)==null?void 0:l.role)==="admin"||((n=s.user)==null?void 0:n.admin)===!0;x(c?"/admin/dashboard":u,{replace:!0})}catch(s){const c=(s==null?void 0:s.error)||(s==null?void 0:s.message)||"Invalid credentials";m.error(c)}},v=()=>{const t="http://localhost:3000",l=u,n=`${t.replace(/\/$/,"")}/auth/google?redirect=${encodeURIComponent(l)}`;window.location.href=n};return e.jsxs("div",{className:"min-h-screen flex flex-col md:flex-row bg-black text-white",children:[e.jsxs("div",{className:"flex flex-col justify-center items-center md:w-1/2 p-10 bg-gradient-to-br from-zinc-950 text-center md:text-left space-y-6 animate-fadeIn",children:[e.jsxs("h1",{className:"text-5xl font-medium tracking-tight  text-center",children:["Login with  Securely "," "]}),e.jsxs("p",{className:"text-gray-400 max-w-md text-lg",children:["Your privacy and security are our top priority. At"," ",e.jsx("span",{className:"text-white font-semibold",children:"Quickzy"}),", we use modern encryption and"," ",e.jsx("span",{className:"text-gray-200 font-medium",children:"Google Authentication"})," ","to protect your login and personal data."]}),e.jsx("p",{className:"text-gray-500 text-sm italic",children:"â€œSafe, fast, and smart â€” just how online shopping should be.â€"}),e.jsxs("div",{className:"flex gap-3 mt-4",children:[e.jsx("div",{className:"px-4 py-2 rounded-lg bg-white/10 border border-white/10 backdrop-blur-md",children:"ðŸ”’ 256-bit Encryption"}),e.jsx("div",{className:"px-4 py-2 rounded-lg bg-white/10 border border-white/10 backdrop-blur-md",children:"â˜ï¸ Secure Cloud Auth"})]})]}),e.jsx("div",{className:"flex-1 flex items-center justify-center px-6 sm:px-12 py-10 bg-gradient-to-br from-zinc-950 via-black to-zinc-950",children:e.jsxs("div",{className:"w-full max-w-md backdrop-blur-md bg-white/5 border border-white/10 rounded-2xl shadow-2xl p-8 animate-slideIn",children:[e.jsx("h2",{className:"text-3xl font-medium text-center mb-6",children:"Sign In"}),e.jsxs("form",{onSubmit:j,className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Email"}),e.jsx("input",{type:"email",value:i,onChange:t=>h(t.target.value),placeholder:"you@example.com",className:"w-full px-4 py-3 rounded-lg bg-zinc-900/60 text-white placeholder-gray-500 border border-white/10 focus:outline-none focus:ring-2 focus:ring-white transition-all",disabled:a}),r.email&&e.jsx("p",{className:"text-red-400 text-xs mt-1",children:r.email})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Password"}),e.jsx("input",{type:"password",value:o,onChange:t=>g(t.target.value),placeholder:"â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢",className:"w-full px-4 py-3 rounded-lg bg-zinc-900/60 text-white placeholder-gray-500 border border-white/10 focus:outline-none focus:ring-2 focus:ring-white transition-all",disabled:a}),r.password&&e.jsx("p",{className:"text-red-400 text-xs mt-1",children:r.password})]}),e.jsx("button",{type:"submit",className:"w-full py-3 bg-white text-black font-semibold rounded-lg hover:bg-gray-200 hover:scale-[1.02] transition-all disabled:opacity-50",disabled:a,children:a?e.jsx(z,{inline:!0,size:"xs",text:"Logging in..."}):"Sign In"}),e.jsxs("div",{className:"relative py-2",children:[e.jsx("div",{className:"absolute inset-0 flex items-center",children:e.jsx("div",{className:"w-full border-t border-white/10"})}),e.jsx("div",{className:"relative flex justify-center text-xs",children:e.jsx("span",{className:"px-3 bg-black text-gray-400",children:"OR"})})]}),e.jsxs("button",{type:"button",onClick:v,className:"w-full py-3 flex items-center justify-center gap-3 bg-zinc-900/60 border border-white/10 rounded-lg hover:bg-zinc-800 hover:shadow-white/10 transition-all",disabled:a,children:[e.jsx("img",{src:"https://www.svgrepo.com/show/355037/google.svg",alt:"Google",className:"w-5 h-5"}),e.jsx("span",{className:"text-sm font-medium text-white",children:"Continue with Google"})]}),e.jsxs("p",{className:"text-center text-sm text-gray-400 pt-3",children:["Donâ€™t have an account?"," ",e.jsx("button",{type:"button",onClick:()=>x("/register"),className:"text-white font-semibold hover:underline hover:text-gray-300 transition",disabled:a,children:"Sign Up"})]})]})]})})]})};export{I as default};
